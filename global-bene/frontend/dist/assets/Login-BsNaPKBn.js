import{j as e}from"./ui-BaUVVAjf.js";import{r as a,u as p,L as l}from"./router-DiqerDgP.js";import{G as y,a as f}from"./GLogin-BPQXfX-v.js";import{a as w}from"./index-DDEPdpRf.js";import"./vendor-Bzgz95E1.js";const j="551070839040-qh22gqelveth5aaiqfan1fm43v0tvs7s.apps.googleusercontent.com";function E(){const[o,i]=a.useState(""),[n,c]=a.useState(""),[s,u]=a.useState(!1),m=p(),x=async r=>{r.preventDefault();try{const t=await w.post("/auth/login",{username:o,password:n}),{accessToken:d,_id:g,username:h,role:b}=t.data;sessionStorage.setItem("accessToken",d),sessionStorage.setItem("user",JSON.stringify({_id:g,username:h,role:b,accessToken:d})),window.dispatchEvent(new Event("authChange")),m("/dashboard")}catch(t){alert(t.response?.data?.message||"Login failed")}};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-md p-6 md:p-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-center text-gray-900 dark:text-gray-100 mb-6",children:"Global Bene"}),e.jsx("h2",{className:"text-2xl font-semibold text-center text-gray-900 dark:text-gray-100 mb-6",children:"Sign In"}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",id:"username",required:!0,value:o,onChange:r=>i(r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100",placeholder:"Enter your username"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:s?"text":"password",id:"password",required:!0,value:n,autoComplete:"current-password",onChange:r=>c(r.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>u(r=>!r),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-blue-600 focus:outline-none","aria-label":s?"Hide password":"Show password",children:s?"ğŸ™ˆ":"ğŸ‘ï¸"})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-md shadow-sm transition",children:"Sign In"})]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-700 dark:text-gray-300",children:["New user?"," ",e.jsx(l,{to:"/register",className:"text-blue-600 hover:underline",children:"Register here"})]}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-700 dark:text-gray-300",children:["Forgot your password?"," ",e.jsx(l,{to:"/reset-password",className:"text-blue-600 hover:underline",children:"Reset it here"})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(y,{clientId:j,children:e.jsx(f,{})})})]})})}export{E as default};
