import{j as e}from"./ui-BaUVVAjf.js";import{r as a,u as h}from"./router-DiqerDgP.js";import{a as b}from"./authService-BKeytffR.js";import{r as p}from"./reportService-D7gKbnWI.js";import"./vendor-Bzgz95E1.js";import"./index-DDEPdpRf.js";const y=()=>{const[s,d]=a.useState(null),[o,n]=a.useState(null),[i,c]=a.useState(!0),[r,x]=a.useState(null),t=h();a.useEffect(()=>{m()},[]);const m=async()=>{try{const[l,g]=await Promise.all([b.admin.getDashboardStats(),p.getReportStats().catch(()=>({data:{stats:{}}}))]);d(l.data.stats),n(g.data.stats)}catch(l){x("Failed to load dashboard stats"),console.error("Dashboard error:",l)}finally{c(!1)}};return i?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):r?e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600",children:r})})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Admin Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-orange-500",children:s?.totalUsers||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Total Posts"}),e.jsx("p",{className:"text-3xl font-bold text-blue-500",children:s?.totalPosts||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Communities"}),e.jsx("p",{className:"text-3xl font-bold text-green-500",children:s?.totalCommunities||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Comments"}),e.jsx("p",{className:"text-3xl font-bold text-purple-500",children:s?.totalComments||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Open Reports"}),e.jsx("p",{className:"text-3xl font-bold text-red-500",children:o?.openReports||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Banned Users"}),e.jsx("p",{className:"text-3xl font-bold text-red-500",children:s?.bannedUsers||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Auto-Deleted Spam Posts"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-500",children:s?.totalSpamPosts||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Admin Users"}),e.jsx("p",{className:"text-2xl font-bold text-red-500",children:s?.adminUsers||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"New Users (30d)"}),e.jsx("p",{className:"text-2xl font-bold text-indigo-500",children:s?.recentUsers||0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"New Posts (7d)"}),e.jsx("p",{className:"text-2xl font-bold text-teal-500",children:s?.recentPosts||0})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("button",{onClick:()=>t("/admin/users"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Manage Users"}),e.jsx("button",{onClick:()=>t("/admin/posts"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Manage Posts"}),e.jsx("button",{onClick:()=>t("/admin/communities"),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Manage Communities"}),e.jsx("button",{onClick:()=>t("/admin/notifications"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Send Notifications"}),e.jsx("button",{onClick:()=>t("/admin/spam"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors",children:"View Reported Posts"}),e.jsx("button",{onClick:()=>t("/admin/spam-management"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Spam Management"}),e.jsx("button",{onClick:()=>t("/admin/analytics"),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Analytics Dashboard"}),e.jsxs("button",{onClick:()=>t("/admin/reports"),className:"bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-lg transition-colors",children:["User Reports (",o?.openReports||0,")"]}),e.jsx("button",{onClick:()=>t("/admin/contact-messages"),className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Contact Messages"})]})]})]})};export{y as default};
