import{j as e}from"./ui-BaUVVAjf.js";import{r as o,u as h,L as f}from"./router-DiqerDgP.js";import{a as w}from"./authService-BKeytffR.js";import"./vendor-Bzgz95E1.js";import"./index-DDEPdpRf.js";function S(){const[r,s]=o.useState({username:"",email:"",password:"",confirmPassword:""}),[n,t]=o.useState(""),[d,u]=o.useState(!1),[l,m]=o.useState(!1),g=h(),x=async a=>{if(a.preventDefault(),t(""),r.password!==r.confirmPassword){t("Passwords do not match. Please try again.");return}try{const i=await w.register({username:r.username,email:r.email,password:r.password}),{accessToken:c,_id:b,username:p,role:y}=i.data;sessionStorage.setItem("accessToken",c),sessionStorage.setItem("user",JSON.stringify({_id:b,username:p,role:y,accessToken:c})),window.dispatchEvent(new Event("authChange")),t("âœ… Registration successful! Redirecting to your dashboard..."),setTimeout(()=>g("/dashboard"),2e3)}catch(i){t(i.response?.data?.message||"Error registering. Please try again.")}};return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-md p-6 md:p-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-center text-gray-900 dark:text-gray-100 mb-6",children:"Create your Global Bene account"}),n&&e.jsx("div",{className:`mb-4 p-3 rounded text-center ${n.includes("âœ…")?"bg-green-100 text-green-800":"bg-red-100 text-red-800 animate-pulse"}`,children:n}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",id:"username",value:r.username,onChange:a=>s({...r,username:a.target.value}),required:!0,placeholder:"Pick a username",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Email address"}),e.jsx("input",{type:"email",id:"email",value:r.email,onChange:a=>s({...r,email:a.target.value}),required:!0,placeholder:"you@example.com",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",id:"password",value:r.password,onChange:a=>s({...r,password:a.target.value}),required:!0,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100"}),e.jsx("button",{type:"button",onClick:()=>u(a=>!a),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-blue-600 focus:outline-none","aria-label":d?"Hide password":"Show password",children:d?"ğŸ™ˆ":"ğŸ‘ï¸"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",id:"confirm-password",value:r.confirmPassword,onChange:a=>s({...r,confirmPassword:a.target.value}),required:!0,placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full border border-gray-300 dark:border-gray-600 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-100"}),e.jsx("button",{type:"button",onClick:()=>m(a=>!a),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-blue-600 focus:outline-none","aria-label":l?"Hide password":"Show password",children:l?"ğŸ™ˆ":"ğŸ‘ï¸"})]}),e.jsx("p",{className:"text-xs mt-1 text-gray-500 dark:text-gray-400",children:"At least 8 characters, uppercase, lowercase, number & symbol."})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-md shadow-sm transition",children:"Sign Up"})]}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-700 dark:text-gray-300",children:["Already a member?"," ",e.jsx(f,{to:"/login",className:"text-blue-600 hover:underline",children:"Log in"})]})]})})}export{S as default};
