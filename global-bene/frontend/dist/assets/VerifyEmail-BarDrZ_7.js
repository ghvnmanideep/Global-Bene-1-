import{j as e}from"./ui-BaUVVAjf.js";import{r as s,L as c}from"./router-DiqerDgP.js";import{a as g}from"./authService-BKeytffR.js";import"./vendor-Bzgz95E1.js";import"./index-DDEPdpRf.js";function j(){const[n,m]=s.useState(""),[o,x]=s.useState(""),[r,a]=s.useState("form"),[l,d]=s.useState(""),u=async t=>{t.preventDefault(),a("pending");try{const i=await g.verifyOtp({email:n,otp:o});a("success"),d(i.data?.message||"âœ… Email verified successfully! You can now log in.")}catch(i){a("error"),d(i.response?.data?.message||"âŒ Verification failed. Invalid or expired OTP.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 px-4",children:e.jsxs("div",{className:"max-w-md w-full p-8 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-md text-center",children:[r==="form"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Verify Your Email"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:"Enter the 6-digit OTP sent to your email."}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:t=>m(t.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),e.jsx("input",{type:"text",placeholder:"OTP",value:o,onChange:t=>x(t.target.value),required:!0,maxLength:"6",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white text-center text-2xl tracking-widest"}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold shadow-md transition",children:"Verify"})]})]}),r==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("svg",{className:"animate-spin h-12 w-12 mx-auto text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg font-medium mb-4 animate-pulse",children:"Verifying your email..."})]}),r==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-4",children:"ðŸŽ‰ Verification Successful!"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:l}),e.jsx(c,{to:"/login",className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold shadow-md transition",children:"Go to Login"})]}),r==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"âŒ Verification Failed"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:l}),e.jsx("button",{onClick:()=>a("form"),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold shadow-md transition mr-2",children:"Try Again"}),e.jsx(c,{to:"/register",className:"inline-block bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md font-semibold shadow-md transition",children:"Go to Register"})]})]})})}export{j as default};
